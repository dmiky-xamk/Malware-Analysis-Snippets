//module;
//
//#include "../../Headers/Imports/Imports.h";
//import Exception;
//
//export module ResolveImports;
//
//Imports::tNtCreateSection    fNtCreateSection;
//Imports::tNtMapViewOfSection fNtMapViewOfSection;
//Imports::tNtClose            fNtClose;
//
//export namespace MW::Utility
//{
//    void ResolveImports()
//    {
//        // The module where the exports reside
//        const HMODULE ntdll{ GetModuleHandle(L"ntdll.dll") };
//
//        // Get the desired function(s)
//        fNtCreateSection = reinterpret_cast<Imports::tNtCreateSection>(GetProcAddress(ntdll, "NtCreateSection"));
//
//        if (!fNtCreateSection)
//        {
//            throw Exception("Failed to receive import fNtCreateSection", "ResolveImports");
//        }
//
//        fNtMapViewOfSection = reinterpret_cast<Imports::tNtMapViewOfSection>(GetProcAddress(ntdll, "NtMapViewOfSection"));
//
//        if (!fNtMapViewOfSection)
//        {
//            throw Exception("Failed to receive import NtMapViewOfSection", "ResolveImports");
//        }
//
//        fNtClose = reinterpret_cast<Imports::tNtClose>(GetProcAddress(ntdll, "NtClose"));
//
//        if (!fNtClose)
//        {
//            throw Exception("Failed to receive import NtClose", "ResolveImports");
//        }
//    }
//}