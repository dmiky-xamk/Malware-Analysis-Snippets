module;

import <exception>;
import <string>;

export module Exception;

export struct Exception : public std::exception
{
private:
    std::string errorMessage{};
    std::string functionName{};
    std::string errorInfo{};

public:
    Exception(const std::string &msg, const std::string &funcName)
        : errorMessage{ msg }, functionName{ funcName }
    {
        errorInfo = "EXCEPTION: " + errorMessage + "\nIn function: " + functionName + '\n';
    }

    const char *what() const throw ()
    {
        return errorMessage.c_str();
    }

    const std::string &getErrorInfo() const throw()
    {
        return errorInfo;
    }
};